services:
  octoslack:
    build: .
    read_only: true
    volumes:
      # Mount config.yaml for non-sensitive configuration
      - ./config.yaml:/config.yaml:ro
    environment:
      # Sensitive credentials (required)
      - SLACK_BOT_TOKEN=${SLACK_BOT_TOKEN}
      - REDIS_PASSWORD=${REDIS_PASSWORD:-}
    restart: on-failure:10
    extra_hosts:
      - "host.docker.internal:host-gateway"
